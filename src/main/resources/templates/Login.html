<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>SafeGhar â€“ Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/static/images/logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <style>
    /* ===== PERFECT SAFEGHAR DESIGN SYSTEM ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      height: 100vh;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #f1f5f9 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
    }

    /* SAME FLOATING PARTICLES */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image:
        radial-gradient(2px 2px at 20px 30px, #cbd5e1, transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(148, 163, 184, 0.4), transparent),
        radial-gradient(1px 1px at 90px 40px, #94a3b8, transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(148, 163, 184, 0.3), transparent);
      background-repeat: repeat;
      background-size: 200px 100px;
      animation: float 25s infinite linear;
      pointer-events: none;
      z-index: 0;
    }

    /* BACKGROUND IMAGE */
    body::after {
      content: "";
      position: fixed;
      inset: 0;
      background: url('/images/BackGround.png') center/cover no-repeat;
      opacity: 0.12;
      z-index: -1;
      animation: bgZoom 20s ease-in-out infinite alternate;
    }

    @keyframes bgZoom {
      from { transform: scale(1); }
      to { transform: scale(1.08); }
    }

    @keyframes float {
      0% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
      100% { transform: translateY(0px) rotate(360deg); }
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(35px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes floatLogo {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }

    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.2); }
      50% { box-shadow: 0 0 40px rgba(99, 102, 241, 0.4); }
    }

    /* AUTH WRAPPER */
    .auth-wrapper {
      width: 100%;
      max-width: 420px;
      padding: 2rem;
      animation: fadeUp 0.9s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      position: relative;
      z-index: 1;
    }

    /* BRAND BOX */
    .brand-box {
      text-align: center;
      margin-bottom: 2rem;
    }

    .logo {
      width: 108px;
      height: 90px;
      margin: 0 auto 1rem;
      display: block;
      border-radius: 16px;
      box-shadow: 0 12px 35px rgba(99, 102, 241, 0.2);
      animation: floatLogo 3s ease-in-out infinite;
    }

    .brand-box h1 {
      font-size: 2.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, #1e293b, #334155);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: -0.025em;
      margin-bottom: 0.5rem;
    }

    .tag {
      font-size: 1rem;
      color: #64748b;
      font-weight: 400;
      opacity: 0.8;
    }

    /* PERFECT LOGIN CARD */
    .card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(25px);
      border-radius: 24px;
      padding: 2.5rem;
      box-shadow:
        0 25px 50px rgba(15, 23, 42, 0.12),
        0 4px 12px rgba(15, 23, 42, 0.08);
      border: 1px solid rgba(226, 232, 240, 0.8);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #6366f1, #8b5cf6, #6366f1);
      background-size: 200% 100%;
      animation: shimmer 3s infinite;
    }

    @keyframes shimmer {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    .card:hover {
      transform: translateY(-8px);
      box-shadow:
        0 35px 70px rgba(15, 23, 42, 0.16),
        0 8px 20px rgba(15, 23, 42, 0.12);
      border-color: rgba(99, 102, 241, 0.2);
    }

    .auth-form h2 {
      font-size: 1.5rem;
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 1.5rem;
      text-align: center;
      padding-bottom: 1rem;
      border-bottom: 2px solid rgba(99, 102, 241, 0.1);
    }

    /* INPUT FIELDS */
    .field {
      margin-bottom: 1.25rem;
      position: relative;
    }

    .auth-input {
      width: 100%;
      padding: 16px 20px;
      border-radius: 16px;
      border: 2px solid rgba(226, 232, 240, 0.6);
      background: rgba(255, 255, 255, 0.9);
      font-size: 1rem;
      transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      outline: none;
      backdrop-filter: blur(10px);
      font-family: inherit;
    }

    .auth-input:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.15);
      transform: translateY(-2px);
      background: rgba(255, 255, 255, 1);
    }

    /* LOGIN BUTTON */
    .auth-btn {
      width: 100%;
      padding: 16px;
      border-radius: 16px;
      border: none;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      color: white;
      font-size: 1.05rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      box-shadow: 0 8px 25px rgba(99, 102, 241, 0.3);
      position: relative;
      overflow: hidden;
      margin-top: 0.5rem;
    }

    .auth-btn:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 20px 40px rgba(99, 102, 241, 0.4);
    }

    .auth-btn:active {
      transform: translateY(-2px) scale(1);
    }

    /* SWITCH LINK */
    .switch {
      margin-top: 1.5rem;
      font-size: 0.95rem;
      color: #64748b;
      text-align: center;
    }

    .switch a {
      color: #6366f1;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .switch a:hover {
      color: #4f46e5;
      text-shadow: 0 0 8px rgba(99, 102, 241, 0.3);
    }

    /* DIVIDER */
    .divider {
      margin: 2rem 0;
      display: flex;
      align-items: center;
      gap: 1rem;
      font-size: 0.85rem;
      color: #94a3b8;
      font-weight: 500;
    }

    .divider::before,
    .divider::after {
      content: "";
      flex: 1;
      height: 1px;
      background: linear-gradient(90deg, transparent, #e2e8f0, transparent);
    }

    /* GOOGLE BUTTON */
    .google-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 14px 24px;
      border-radius: 16px;
      border: 2px solid rgba(226, 232, 240, 0.6);
      background: rgba(255, 255, 255, 0.9);
      color: #1e293b;
      font-weight: 600;
      font-size: 1rem;
      text-decoration: none;
      transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      backdrop-filter: blur(15px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.08);
    }

    .google-btn:hover {
      background: rgba(255, 255, 255, 1);
      transform: translateY(-3px);
      border-color: rgba(99, 102, 241, 0.3);
      box-shadow: 0 15px 35px rgba(0,0,0,0.12);
    }

    .google-icon {
      width: 20px;
      height: 20px;
      background: #4285f4;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 0.8rem;
      font-weight: bold;
    }

    /* RESPONSIVE */
    @media (max-width: 480px) {
      .auth-wrapper { padding: 1rem; }
      .card { padding: 2rem 1.5rem; }
      .brand-box h1 { font-size: 2rem; }
    }
  </style>
</head>

<body>

<div class="auth-wrapper">

  <div class="brand-box">
    <!-- âœ… ORIGINAL LOGO PRESERVED -->
    <img src="/images/homeangentlogo.png" class="logo" alt="SafeGhar Logo">
    <h1>SafeGhar</h1>
    <p class="tag">Smarter home. Safer living.</p>
  </div>

  <div class="card">

    <!-- âœ… 100% ORIGINAL LOGIN FORM LOGIC -->
    <form action="/login" method="post" class="auth-form">

      <h2><i class="fas fa-sign-in-alt"></i> Welcome back</h2>

      <div class="field">
        <input type="email" name="email" placeholder="Email address" class="auth-input" required>
      </div>

      <div class="field">
        <input type="password" name="password" placeholder="Password" class="auth-input" required>
      </div>

      <button type="submit" class="auth-btn">
        <i class="fas fa-arrow-right"></i> Login
      </button>

      <p class="switch">
        Don't have an account?
        <a th:href="@{/signUp}">Sign up</a>
      </p>

      <div class="divider">OR</div>

      <!-- âœ… ORIGINAL GOOGLE OAUTH PRESERVED -->
      <a href="/oauth2/authorization/google" class="google-btn">
        <div class="google-icon">G</div>
        Continue with Google
      </a>

    </form>

  </div>

</div>

<script>
  // SAME ULTRA-SMOOTH INTERACTIONS
  document.addEventListener('DOMContentLoaded', () => {

    // ðŸ­ Mouse trail effect
    document.addEventListener('mousemove', (e) => {
      const trail = document.createElement('div');
      trail.style.cssText = `
        position: fixed;
        left: ${e.clientX}px;
        top: ${e.clientY}px;
        width: 6px;
        height: 6px;
        background: rgba(99, 102, 241, 0.6);
        border-radius: 50%;
        pointer-events: none;
        z-index: 9999;
        animation: float 1s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
      `;
      document.body.appendChild(trail);
      setTimeout(() => trail.remove(), 1000);
    });

    // Smooth hover effects - FORMS DON'T BREAK
    document.querySelectorAll('.card, .auth-btn, .google-btn, .switch a').forEach(el => {
      el.addEventListener('mouseenter', function() {
        if (!this.querySelector('input:focus')) {
          this.style.transform = 'translateY(-2px)';
        }
      });
      el.addEventListener('mouseleave', function() {
        this.style.transform = 'translateY(0)';
      });
    });

    // Input focus animations
    document.querySelectorAll('.auth-input').forEach(input => {
      input.addEventListener('focus', function() {
        this.parentElement.style.transform = 'translateY(-2px)';
      });
      input.addEventListener('blur', function() {
        this.parentElement.style.transform = 'translateY(0)';
      });
    });
  });
</script>

</body>
</html>
